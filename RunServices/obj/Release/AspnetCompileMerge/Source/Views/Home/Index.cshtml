@model IEnumerable<RunServices.Models.ConfigService>
@{
    ViewBag.Title = "Index";
}
@*@{
        ViewData["Title"] = "مدیریت سرویس ها";
    }*@
<div class="text-center">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Service Name</th>
                <th scope="col">Status</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>

            @{
                int i = 0, j = 0;
            }
            @foreach (var item in Model)
            {
                { j++; }

                <tr style="text-align: start;">
                    <td>@Html.Label(j.ToString())</td>
                    <td>@Html.Label(@item.ServiceName)</td>
                    <td>@Html.Label(@item.ServiceStatus)</td>
                    <td style="display: flex">
                        @if (@item.ServiceStatus == "Running" || @item.ServiceStatus == "StartPending")
                        {
                            using (Html.BeginForm("Stop", "Home", new { serviceName = item.Items.SectionDetail[i].ServiceName }, FormMethod.Post))
                            {
                                <button class="btn btn-danger" style="margin:0 5px "><i class="fa fa-stop"></i></button>
                                
                            }
                            using (Html.BeginForm("Restart", "Home", new { serviceName = item.Items.SectionDetail[i].ServiceName }, FormMethod.Post))
                            {
                                <button class="btn btn-info"><i class="fa fa-refresh"></i></button>
                            }
                        }
                        else if (@item.ServiceStatus == "Stopped" || @item.ServiceStatus == "StopPending")
                        {
                            using (Html.BeginForm("StartService", "Home", new { serviceName = item.Items.SectionDetail[i].ServiceName }, FormMethod.Post))
                            {
                                <button class="btn btn-success" style="margin:0 5px "><i class="fa fa-play"></i></button>

                            }
                            using (Html.BeginForm("Restart", "Home", new { serviceName = item.Items.SectionDetail[i].ServiceName }, FormMethod.Post))
                            {
                                <button class="btn btn-info" disabled="disabled"><i class="fa fa-refresh"></i></button>
                            }
                        }
                    </td>


                </tr>
                        { i++; }
            }
        </tbody>
    </table>
</div>